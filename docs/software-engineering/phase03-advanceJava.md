---
title: A deeper look
description: 'getting familiar with advance topics in software engineering and also Java language'
---

![](./images/phase03-advanceJava.png)

## مقدمه

در این فاز می‌خواهیم به سراغ مفاهیم عمیق‌تر در مهندسی نرم‌افزار و همچنین مباحث پیشرفته در زبان جاوا برویم.

## الگو‌های طراحی

تاریخچه‌ی الگوهای طراحی به سال‌ها قبل برمی‌گردد زمانی که آقایی به نام Christopher Alexander که یک مهندسی عمران بود، متوجه می‌شود در ساخت و ساز‌های خود برخی اصول و الگوها مرتبا تکرار می‌شوند. بنابراین تصمیم گرفت که یک راهنمایی بنویسد تا افراد مختلف بتوانند، از این دانسته‌ها استفاده کنند و زمان کمتری صرف بهبود بخش‌هایی کنند که پیش‌تر مسیرشان طی شده است.

۱۵ سال پیش، متخصصین حوزه‌ی نرم‌افزار تصمیم گرفتند تا چنین روالی را برای برنامه‌نویسی نیز پیاده‌سازی کنند که نهایتا منتهی به انتشار کتاب [Design Patterns: Elements of Reusable Object-Oriented Software in 1995 by Erich Gamma](https://github.com/Talkademy/Backend-Internship/blob/main/ReadMore/DesignPatterns.pdf) شد که حاوی ۲۳ قاعده بود و قرار است در ادامه با برخی از این قواعد آشنا شوید.

ممکن است برای شما سوال پیش بیاید که الگوهای طراحی چه دردی را دوا می‌کنند؟

* مزیت اول که به صورت ضمنی هم به آن اشاره داشتیم، استفاده از راهکار‌های آزموده شده برای مسائل مشخص است. در فازهای بعدی که برنامه‌های پیچیده‌تر و با جزئیات بیشتر خواهید نوشت این دغدغه را بیشتر درک خواهید کرد.
* مزیت دوم این است که الگوهای طراحی، مانند یک زبان مشترک، درک متقابل توسعه‌دهندگان را از کدهای یکدیگر افزایش می‌دهند. توجه داشته باشید که در پروژه‌های مقیاس صنعتی، برنامه‌نویسی گروهی بسیار متداول است و افراد باید حتی‌الامکان از نوشته‌های دیگران درک کافی داشته باشند.

اکنون که با تاریخچه و اهمیت الگوهای طراحی آشنا شدیم، به بررسی برخی الگوها می‌پردازیم.

### الگوهای ایجادی

الگوهای نوع اول، مربوط به مسائلی درباره‌ی نحوه ایجاد اشیاء هستند. برای مثال آیا استفاده از Constructor همواره مناسب است یا راه‌های جایگزینی نیز وجود دارند؟ در این مقطع، یادگیری الگو‌های زیر پیشنهاد می‌شود

* [Singleton](https://refactoring.guru/design-patterns/singleton)
* [Builder](https://refactoring.guru/design-patterns/builder)

:::tip
یکی از الگوهای جالب در مهندسی نرم‌افزار که معمولا در طراحی API ها به کار می‌روند، [Fluent API](https://java-design-patterns.com/patterns/fluentinterface/#explanation) است. در ادامه مسیر مهندسی نرم‌افزار (حتی در همین فاز) یکی از کاربردهای این الگو‌ را خواهید دید و همچنین در صورت تمایل می‌توانید از آن در طراحی موتور جستجویتان ایده بگیرید.
:::

برای آشنایی بیشتر و بهره بردن از این الگوهای طراحی می‌توانید این الگو‌های پر کاربرد را نیز مطالعه کنید

* [Prototype](https://refactoring.guru/design-patterns/prototype)
* [Factory Method](https://refactoring.guru/design-patterns/factory-method)

:::info
به تفاوت دو الگوی Builder و Fluent بیندیشید. به نظرتان تفاوت آن‌ها در چیست؟ (پاسخ را در بنویسید)
:::

### الگوهای ساختاری

این الگوها قصدشان ارائه‌ی یک راه‌حل برای ترکیب اشیاء مختلف برای ساختن یک ساختار یا واحد بزرگتر است.
مطالعه این دو الگو می‌تواند برای شما مفید باشد

* [Bridge](https://refactoring.guru/design-patterns/bridge)
* [Proxy](https://refactoring.guru/design-patterns/proxy)

برای مطالعه بیشتر می‌توانید این الگوها را مشاهده نمایید

* [Adapter](https://refactoring.guru/design-patterns/adapter)
* [Composite](https://refactoring.guru/design-patterns/composite)

### الگوهای رفتاری

این دسته الگوها جهت سازمان‌دهی رفتار برنامه استفاده می‌شود. به عبارتی هدف این قسمت کاهش Hardcoding و وابستگی بیش از حد اشیاء به هم است.
برای آشنایی بیشتر با این دسته مطالعه الگو زیر پیشنهاد می‌شود.

* [Observer](https://refactoring.guru/design-patterns/observer)
* [Command](https://www.javatpoint.com/command-pattern)

برای مطالعه بیشتر می‌توانید این الگوها را نیز مطالعه کنید.

* [Chain of Responsibility](https://www.javatpoint.com/chain-of-responsibility-pattern)
* [State](https://www.javatpoint.com/state-pattern)

### پادالگو‌ یا anti pattern

در نقطه مقابل الگو‌های طراحی، پادالگو‌ها قرار دارند. که نه تنها سبب حل مشکل نمی‌شوند بلکه خودشان بعد از مدتی به مشکل تبدیل می‌شوند. در [این مقاله](https://sokanacademy.com/blog/%D8%A2%D8%B4%D9%86%D8%A7%DB%8C%DB%8C-%D8%A8%D8%A7-%D8%AF%D9%87-anti-pattern-%D8%B1%D8%A7%DB%8C%D8%AC-%D8%AF%D8%B1-%DA%A9%D8%AF%D9%86%D9%88%DB%8C%D8%B3%DB%8C) می‌توانید نگاه کوتاهی به این موضوع داشته باشید.

:::tip
یکی از ساده‌ترین و جالب‌ترین پادالگوها که نه فقط در مهندسی نرم‌افزار، بلکه در تمام زندگی جریان دارد، پادالگوی Golden Hammer یا چکش‌ طلایی است. در این‌باره می‌توانید بیشتر جستجو کنید و یا از منتور خود سوال بپرسید.
:::

![](./images/phase03-conventions.jpg)

## نام‌گذاری‌ها در Java

یکی از گام‌های مهم یادگیری هر زبان برنامه‌نویسی یادگیری اصول نام‌گذاری آن می‌باشد. شاید نام‌گذاری در وهله اول مورد مهمی به نظر نرسد اما این موضوع از جهتی اهمیت دارد که نباید کد شما نسبت به کدهای جامعه برنامه نویسان آن زبان تافته جدا بافته باشد. برای آشنایی با این قواعد صفحات زیر را مطالعه کنید:

* [Oreillly](https://www.oreilly.com/library/view/java-8-pocket/9781491901083/ch01.html)
* [GeeksForGeeks](https://www.geeksforgeeks.org/java-naming-conventions/)

![](./images/phase03-stream.jpg)

## Stream

فرض کنید می‌خواهیم در لیست زیر، نام افرادی که نامشان با a (بدون حساسیت به بزرگ‌ یا کوچک بودن حروف) شروع می‌شود را به صورت مرتب شده در خروجی چاپ کنیم:

```java
List myList = Arrays.asList( "Ashkboos aval", "arash kamangir", "Ashkboos panjom", "ario Barzan", "Leily", "Majnoon", "bahram Goooor", "Amene");
```

احتمالا برای این کار از حلقه استفاده می‌کنیم. روی هر المان حرکت می‌کنیم، آن را به صورت lowercase یا uppercase در می‌آوریم، شروع‌شدنش با a (یا A) را چک می‌کنیم و اگر شرط برقرار بود آن را در لیست دیگری که تعریف کرده‌ایم قرار می‌دهیم. در نهایت هم sort اش می‌کنیم: (تقریبا سودوکد این فرایند به صورت زیر می‌شود)

```java
        List<String> result = new ArrayList<>();

        for (String name : myList)
            if (name.toUpperCase().startsWith("A"))
                result.add(name);

        result.sort(null);

        for (String name : result)
            System.out.println(name);
```

### خبر خوب!

از جاوای ۸ به بعد، امکانی با عنوان Stream API به این زبان اضافه شده است تا کار با مجموعه‌ها (collection) ها را سریع‌تر و ساده‌تر کند. استریم‌ها به ما این امکان را می‌دهند که بتوانیم روی مجموعه‌ای از داده‌ها عملیات‌های مختلفی از جمله filter، جمع، میانگین‌گیری، تبدیل کردن به یک شیء دیگر و … را انجام دهیم.

برای استفاده از آن‌ها کافیست ابتدا مجموعه‌ای که داریم را به شی از نوع Stream تبدیل کنیم.  با این کار می‌توانیم از عملگر‌های میانی (intermediate) و در نهایت از عملگر‌های پایانی (terminal) برای تحویل داده استفاده کنیم.
برای یادگیری نحوه ساختن Stream از مجموعه دادگان، [این لینک](https://www.geeksforgeeks.org/10-ways-to-create-a-stream-in-java/) را مطالعه کنید.

همچنین برای آشنایی بیشتر با Stream ها و عملگر‌های آن، مطالعه [این لینک](https://stackify.com/streams-guide-java-8/) توصیه می‌شود.
حال برای درک تفاوت و چگونگی استفاده از استریم، مسئله‌ای که در ابتدا بیان کردیم را با استفاده از استریم‌ بازنویسی کنید و پاسخ را در ایشوی خود بنویسید.


## Lambda

اگر چرخی در دنیای برنامه‌نویسی زده باشید احتمالا نام توابع lambda به گوشتان خورده است. در واقع نام دیگر آنها توابع ناشناس است. توابعی که نام ندارند و معمولا برای کار‌های خاص و بسیار کوتاه‌مدت استفاده می‌شوند. در [اینجا](https://www.w3schools.com/java/java_lambda.asp) می‌توانید با این توابع آشنا شوید.

:::info
در این باره می‌توانید نگاهی به تاریخچه توابع لامبدا که از ریاضیات نشأت گرفته است بیندازید. قسمت motivation از [این مقاله](https://en.wikipedia.org/wiki/Lambda_calculus#Motivation) را مطالعه کنید.

:::


## عملگر دودونقطه :: Double Colon

یکی از عملگرهای جالب برای فراخوانی توابع در زبان جاوا عملگر دو نقطه :: است که می‌تواند سبب کوتاه‌ شدن و افزایش خوانایی کد بشود. در [اینجا](https://techwithmaddy.com/java-method-reference) می‌توانید با این عملگر آشنا شوید و نحوه استفاده از آن را بیاموزید.

برای مثال، در تکه کد زیر می‌توانید نمونه‌ کاربرد لامبدا و همچنین عملگر :: را ببینید:

```java
myList.stream().map(String::toUpperCase).map(String::trim).filter(s -> s.startsWith("A"))
.sorted().forEach(System.out::println);
```


## Maven

توسعه‌دهندگان برای اشتراک گذاشتن و دریافت کدهای به اشتراک گذاشته شده از ابزارهایی تحت عنوان Package Manager استفاده می‌‌کنند. یکی از معروف‌ترین و بهترین این ابزار‌ها Maven است که اولین بار در پروژه توربین جاکارتا برای ساده سازی فرایندهای ساخت استفاده شد. واژه Maven به معنای «جمع‌کننده دانش» است. موارد زیر، از اهداف تولید این ابزار است:

* یک روش استاندارد برای ساخت پروژه ها
* یک تعریف مشخص از اجزای تشکیل دهنده‌ی پروژه
* یک روش آسان برای انتشار اطلاعات پروژه
* یک راه برای به اشتراک گذاشتن JAR ها در چندین پروژه

در کل می‌توان گفت که Maven باعث شده که کار روزمره توسعه دهندگان جاوا آسان‌تر شود و به توسعه پروژه‌های مبتنی بر جاوا کمک زیادی کرده است.

این ابزار، مکانیزم‌هایی برای ایجاد، نگهداری و استفاده از کدها ارائه می‌دهد که برای هر کدام از این مکانیزم‌ها ابزارهایی نیز فراهم کرده است. هنگام استفاده از Maven
توسعه‌دهنده نگران دریافت و اشتراک کدها نمی‌باشد چرا که خود Maven
این عملیات‌ها را مدیریت می‌کند. در نتیجه می‌توان گفت که کار روزمره توسعه‌دهندگان جاوا را آسان‌تر کرده و تولید پروژه‌های بزرگتر را تسریع بخشیده است.

برای شروع به کار میتوانید به [Maven in 5 Minutes](https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html) مراجعه کنید.
سپس مستند [Maven Getting Started Guide](https://maven.apache.org/guides/getting-started/index.html) را بخوانید و به لیست دستورات زیر تسلط پیدا  کنید: 
(لازم است توضیح کوتاهی درباره عملکرد هر یک در ایشو بدهید.)

* validate
* compile
* test
* package
* install
* deploy

## لومبوک
لومبوک یک کتابخانه جاوا است که به طور خودکار به ویرایشگر شما متصل می شود و ابزارهایی را ایجاد می کند که شما را از کدهای تکراری و خسته کننده نجات می‌دهد.

شما با استفاده از این کتابخانه سرعت کدنویسی خود را چندبرابر می‌کنید بدون آنکه کیفیت کد شما پایین بیاید . در ضمن لومبوک به شما کمک می‌کند که با حذف Boilerplate Code خوانایی کد خود را بالاتر ببرید.

برای آشنایی بیشتر با لمبوک می‌توانید به [این لینک](https://javacup.ir/introduction-to-lombok/) مراجعه نمایید

:::cation
توجه کنید که کتابخانه lombok بسیار گسترده است و امکانات بسیار متعددی دارد. به طور کلی اما موارد زیر را لازم است حتما بیاموزیم. (به طور سطحی و بدور از پیچیدگی‌ها و قابلیت‌های جزیی‌ای که دارند)

* @Setter
* @Getter
* @Builder
* @RequiredArgsConstructor and other constructor-related ones
* @ToString
:::

## باز جوییم روزگار وصل خویش ...

با توجه به آنچه که از الگوهای طراحی آموختیم سعی کنید موتور جستجوی خود را بازنگری کنید و ببینید از کدام یک از این الگو‌ها می‌توانید در پروژه خود استفاده کنید، و یا ببینید که در دام پاد‌الگو‌ها افتاده‌اید یا خیر!

همچنین توجه کنید که با دانشی که درباره امکانات زبان جاوا کسب‌ کردید، می‌توانید بسیاری از بخش‌های کدتان را به صورت کوتاه‌تر و تمیز‌تر بازنویسی کنید و برای این‌ کار از امکاناتی چون توابع لامبدا، استریم‌ها و کتابخانه lombok استفاده کیند.

در نهایت، مشابه فاز‌ گذشته، روی یک برنچ جدید این تغییرات را اعمال کنید و از تیم‌های دیگر بخواهید که آن را ریویو کنند.
